<h1>Getting Ruby's Groove Back on Leopard</h1>
Apple has <a href="http://trac.macosforge.org/projects/ruby/wiki/WhatsNewInLeopard">done good</a> with the version of Ruby that ships with Leopard.  It's got <tt>readline</tt>, it's got DTrace probes, it's got <tt>gem</tt>, it's got a sane default collection of gems, and by god, they actually seem to have integrated it with Xcode and Interface Builder.  Oh, and it's cross-platform for 32- and 64-bit.  Yeah.  What.<br /><br />With all that in mind, I clearly want to use Apple's pimped out Ruby even though my MacPorts version (installed while in Tiger) seems to work fine.  So, some experiments.<br /><br />1) If you install the very latest MySQL (the fancy Mac installer one), you can actually bulid the <tt>mysql</tt> gem with  only <a href="http://trac.macosforge.org/projects/ruby/wiki/Troubleshooting">a minor incantation</a>.  Much improved from Tiger, on which I had basically given up hope of ever having a working MySQL gem.<br /><br />2) Just for shits, let's ditch MacPorts entirely because it sucks and I use it for less and less as time goes on.  Take <tt>/opt/local/bin</tt> out of your shell's <tt>PATH</tt>.  Now let's install everything I need for daily Ruby coding.  Whoa.  That basically all works.  Everything except... <tt>rmagick</tt>.  Oh.  Crap.<br /><br />3) Attempt to install the necessary dependency libraries for ImageMagick by hand.  FAIL.  Some crazy Freetype/Ghostscript font issue, not to mention that you get bizarre errors if you <tt>make clean install</tt> and re-<tt>configure</tt> in the ImageMagick source directory.  Life's too short for this bull.<br /><br />4) Throw out old, crap-landen MacPorts install with a <tt>sudo rm -rf /opt</tt>.  Reinstall MacPorts, selfupdate.<br /><br />5) <a href="http://nullstyle.com/2007/10/27/how-to-build-imagemagick-and-install-rmagick-with-macports-on-mac-os-x-leopard/">Follow these instructions to get a working rmagick gem</a>.  Note the comments.  Basically, all MacPorts is doing is taking care of the miserable chain of suffering that ImageMagick necessitates.  I don't trust it with much else.  (Well, save <tt>sudo port install git +svn</tt>, but it stings just a little.  Ow, my pride.)<br /><br />Now I've got Apple's tricked-out Ruby ready to do my day-to-day work.  Sweet.  Next experiments: seeing how well they've really integrated Ruby into the Cocoa development process, and messing with DTrace instruments.